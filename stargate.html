<!DOCTYPE html>
<html lang="en">

<head>
    <title>Artopia > Stargate</title>
    <!-- Flickity - image gallery with selected style -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Include jQuery -->
    <script src="assets/javascript/jquery.min.js"></script>
    <!-- Include Bootstrap -->
    <script src="assets/javascript/bootstrap.min.js"></script>
    <link rel="stylesheet" href="assets/css/bootstrap.min.css">
    <!-- Include Flickity -->
    <script src="assets/javascript/flickity.pkgd.min.js"></script>
    <link rel="stylesheet" href="assets/css/flickity.min.css">
    <!-- Include Isotope -->
    <script src="assets/javascript/isotope.pkgd.min.js"></script>
    <!-- Include fonts -->
    <link href="https://fonts.googleapis.com/css?family=Inknut+Antiqua" rel="stylesheet">
    <!-- Include Custom styles and scripts -->
    <link rel="stylesheet" href="assets/css/category-page.css">
    <link rel="stylesheet" href="assets/css/main.css">
    <link rel="stylesheet" href="assets/css/navbar.css">
    <link rel="stylesheet" href="assets/css/button.css">
    <link rel="stylesheet" href="assets/css/isotope.css">

    <script src="assets/javascript/isotopeInit.js"></script>
    <script src="assets/javascript/navbarInit.js"></script>
    <!-- <script src="assets/javascript/script.js"></script> -->
    <script type="text/javascript" src="assets/javascript/paper-full.js"></script>
    <script type="text/paperscript" canvas="canvas-header">
		// var textItem = new PointText({
		// 	content: 'Event',
		// 	point: new Point(20, 30),
		// 	fillColor: 'black',
		// });


		// var circleWidthOuter = 50;
		var circleWidthOuter = view.size.width/16;
		// var circleWidthInner = 20;
		var circleWidthInner = view.size.width/40;
		var colorYin = 'white', colorYang = 'black';
		var scale = 2;

		var animOptions = {
			animationSpeed: 3,
			numberClones: 17
		};

        var circleYin = new Path.Circle(new Point(circleWidthOuter*2, circleWidthOuter*2), circleWidthOuter);
        circleYin.fillColor = colorYin;
		var circleYinInner = new Path.Circle(new Point(circleWidthOuter*2, circleWidthOuter*2), circleWidthInner);
		circleYinInner.fillColor = colorYang;
        var circleYang = new Path.Circle(new Point(circleWidthOuter*4, circleWidthOuter*2), circleWidthOuter);
        circleYang.fillColor = colorYang;
		var circleYangInner = new Path.Circle(new Point(circleWidthOuter*4, circleWidthOuter*2), circleWidthInner);
		circleYangInner.fillColor = colorYin;

    //    var group = new Group(circleYin, circleYang, circleYinInner, circleYangInner);
        var group = new Group(circleYin, circleYang);
        var groupInner = new Group(circleYinInner, circleYangInner);

		var translateAmount = scale*circleWidthOuter+100;
        group.scale(scale);
        groupInner.scale(scale);
        //  group.translate([translateAmount+50, translateAmount-50]);
		// groupInner.translate([translateAmount+50, translateAmount-50]);

        var translateVector = view.center;
        	group.position = translateVector;
        	groupInner.position = translateVector;


		var point = group.position;
	//	var circleSymbol = new Symbol(group);

		var pairs = [];
		pairs.push(group);
	//	var c = circleSymbol.place(point);
	//	pairs.push(circleSymbol.place(point));

		var next = group;

			var sequences = [
				{
					description: "2 circles rotate around",
					duration: 100,
					playSequence: function(event, animOptions) {
						for(var i = 0; i < pairs.length; i++) {
							pairs[i].rotate(animOptions.animationSpeed);
						}
						groupInner.rotate(animOptions.animationSpeed);
					}
				},
				{
					description: "Morph into yin-yang",
					duration: 400,
					playSequence: function(event, animOptions) {
						// this.duration/clones is equivalent to frames per clone
						if(event.count % Math.round(this.duration/animOptions.numberClones) == 0) {
							// Create new clone
							var clone = pairs[0].clone().sendToBack();
							pairs.unshift(clone);
						} else {
							for(var i = 0; i < pairs.length; i++) {
								pairs[i].rotate(animOptions.animationSpeed);
							}
							groupInner.rotate(animOptions.animationSpeed);

							// Move newest clone into position gradually
							if(pairs.length > 1) {
								pairs[0].rotate((-180/animOptions.numberClones) / (this.duration/animOptions.numberClones));
							}
						}
					}
				},
				{
					description: "Rotate yin-yang",
					duration: 100,
					playSequence: function(event, animOptions) {
						for(var i = 0; i < pairs.length; i++) {
							pairs[i].rotate(animOptions.animationSpeed);
						}
						groupInner.rotate(animOptions.animationSpeed);
					}
				},
				{
					description: "Morph into 2 circles",
					duration: 500,
					playSequence: function(event, animOptions) {
						if(event.count % Math.round(this.duration/animOptions.numberClones) == 0) {
					//	if(event.count > 100) {
							if(pairs.length > 1) {
								var pair = pairs.shift();
								pair.remove();
							}
						} else {
							for(var i = pairs.length-1; i >= 0; i--) {
								pairs[i].rotate(animOptions.animationSpeed);
							}
							groupInner.rotate(animOptions.animationSpeed);

							// Move newest clone into position gradually
							if(pairs.length > 1) {
								pairs[0].rotate((180/animOptions.numberClones) / (this.duration/animOptions.numberClones));
							}
						}
					}
				},
				{
					description: "2 circles rotate around",
					duration: 100,
					playSequence: function(event, animOptions) {
						for(var i = 0; i < pairs.length; i++) {
							pairs[i].rotate(animOptions.animationSpeed);
						}
						groupInner.rotate(animOptions.animationSpeed);
					}
				}
			];

    var sequencesComplete = [];
		var currentSequence = null;
		var duration = -1;

		var deltas = []
		var deltaSum = 0;
		function onFrame(event) {
	//	console.log(event);

			// Handle animation
			if(event.count < duration || sequences.length >= 1) {
				if(event.count > duration || currentSequence === null) {
					currentSequence = sequences.shift();
          sequencesComplete.push(currentSequence);
					duration += currentSequence.duration;
					console.log("Playing sequence: '" + currentSequence.description + "'");
				}
				currentSequence.playSequence(event, animOptions);
			} else {
				console.log("Animation complete");
				currentSequence.description = "[Animation complete]";
        sequences = sequencesComplete;
        // duration = -1;
        // currentSequence = null;
			}

			// Handle detail logging

      /*
			deltas.push(event.delta);
			deltaSum += event.delta;
			textItem.content = "Event count: " + event.count
				+ "\nEvent Delta (avg): " + (deltaSum / deltas.length).toFixed(3)
				+ "\nEvent Delta (local max): " + Math.max.apply(null, deltas.slice(deltas.length-Math.min(deltas.length, 50)-1, deltas.length-1)).toFixed(3)
				+ "\nEvent Delta (max): " + Math.max.apply(null, deltas).toFixed(3)
				+ "\nNumber of copies: " + pairs.length
	 			+ "\nCurrent Sequence: '" + currentSequence.description + "'"
				;
        */

        }
    </script>
</head>

<body>
  <div id="theSidenav" class="sidenav">
      <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
      <!-- <a href="#">About</a> -->
      <!-- <a href="#">Gallery</a> -->
      <!-- <a href="#">Stargate</a> -->
      <!-- <a href="#">Library</a> -->
      <div class="navmap">
        <img class="map-background" alt="navigation-map" src="assets/images/sitenav/map_background.png"></img>
            <a href="temple.html" class="nav-link temple">
                <img class="nav-link__icon temple-icon" alt="" src="assets/images/sitenav/temple_icon.png"></img>
                <div class="nav-link__text">Temple</div>
            </a>
            <a href="gallery.html" class="nav-link gallery">
                <img class="nav-link__icon temple-icon" alt="" src="assets/images/sitenav/gallery_icon.png"></img>
                <div class="nav-link__text">Gallery</div>
            </a>
            <a href="library.html" class="nav-link library">
                <img class="nav-link__icon temple-icon" alt="" src="assets/images/sitenav/library_icon.png"></img>
                <div class="nav-link__text">Library</div>
            </a>
            <a href="laboratory.html" class="nav-link laboratory">
                <img class="nav-link__icon temple-icon" alt="" src="assets/images/sitenav/laboratory_icon.png"></img>
                <div class="nav-link__text">Laboratory</div>
            </a>
            <a href="sky-lounge.html" class="nav-link sky-lounge">
                <img class="nav-link__icon temple-icon" alt="" src="assets/images/sitenav/sky_lounge_icon.png"></img>
                <div class="nav-link__text">Sky Lounge</div>
            </a>
            <a href="stargate.html" class="nav-link stargate">
                <img class="nav-link__icon temple-icon" alt="" src="assets/images/sitenav/stargate_icon.png"></img>
                <div class="nav-link__text">Stargate</div>
            </a>
            <a href="garden.html" class="nav-link garden">
                <img class="nav-link__icon tree-icon" alt="" src="assets/images/sitenav/tree_icon.png"></img>
                <div class="nav-link__text">Garden (About)</div>
            </a>
      </div>
  </div>

    <div id="content">
        <nav id="theNavbar" class="navbar navbar-inverse">
            <div class="container-fluid">
                <div class="navbar-header">
                    <a class="navbar-brand" href="index.html">
                        <h2>Artopia</h2>
                    </a>
                </div>
                <ul class="nav navbar-nav navbar-right">
                    <img class="navbutton" alt="navigation" src="assets/images/sitenav/compass_4.png" height="75px" onclick="openNav()"></img>
                </ul>
            </div>
        </nav>


        <div class="category-page-header">
            <div class="container-fluid">
              <!-- <img src="assets/images/original/drawings-color/laboratory_interior_color.jpg" class="category-page-header__image" alt="laboratory" /> -->
              <!-- <div class=""></div> -->
              <canvas class="canvas category-page-header__image" id="canvas-header"></canvas>
                <div class="category-page-header__title">
                    <h3>Stargate</h3>
                    <h4>Digital Experiments</h4>
                </div>
            </div>
        </div>


        <section class="item-portfolio item-portfolio-stargate">
            <div class="container container-isotope">

                <h2>Filter</h2>
                <div id="filters" class="button-group">
                    <button class="button is-checked" data-filter="*">show all</button>
                    <button class="button" data-filter=".quote">quote</button>
                    <button class="button" data-filter=".book">book</button>
                    <button class="button" data-filter=".art">art</button>
                    <button class="button" data-filter=".video">video</button>
                    <button class="button" data-filter=".website">website</button>
                </div>
                <h2>Sort</h2>
                <div id="sorts" class="button-group"> <button class="button is-checked" data-sort-by="original-order">original order</button>
                    <button class="button" data-sort-by="title">title</button>
                    <button class="button" data-sort-by="author">author</button>
                    <button class="button" data-sort-by="category">category</button>
                </div>

                <div class="grid">

                    <div class="grid-item work-uncited drawing" data-category="spirituality">
                        <div class="category">Drawings</div>
                        <div class="medium">Drawing</div>
                        <a class="image image-preview" href="#img-Soulgate">
                            <img src="assets/images/soulgate_color.png" class="">
                            <div class="image-preview__icon">
                                <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
                            </div>
                        </a>
                        <!-- lightbox container hidden with CSS -->
                        <a href="#_" class="lightbox" id="img-Soulgate">
                            <img src="assets/images/soulgate_color.png">
                        </a>
                        <div class="title">
                            <h4><b>Soulgate</b></h4></div>
                        <div class="author"></div>
                        <div class="text">Pen drawing with digital color</div>
                        <div class="date">January 2017</div>
                    </div>
                    <div class="grid-item work-uncited drawing" data-category="spirituality">
                        <div class="category">Drawings</div>
                        <div class="medium">Drawing</div>
                        <a class="image image-preview" href="#img-Library">
                            <img src="assets/images/library_exterior_color.png" class="">
                            <div class="image-preview__icon">
                                <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
                            </div>
                        </a>
                        <!-- lightbox container hidden with CSS -->
                        <a href="#_" class="lightbox" id="img-Library">
                            <img src="assets/images/library_exterior_color.png">
                        </a>
                        <div class="title">
                            <h4><b>Akashic Library</b></h4></div>
                        <div class="author"></div>
                        <div class="text">Pen drawing with digital color</div>
                        <div class="date">January 2017</div>
                    </div>
                </div>
            </div>
        </section>

        <nav class="navbar navbar-inverse">
            <div class="container-fluid">
                <div class="navbar-header">
                    <a class="navbar-brand" href="#">
                        <h2>Artopia</h2>
                    </a>
                </div>

                <ul class="nav navbar-nav navbar-right">
                    <img class="navbutton" alt="navigation" src="assets/images/sitenav/compass_4.png" height="75px" onclick="openNav()"></img>
                </ul>
                <p class="navbar-text navbar-right license">All original work on this site is released under a <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> license.</p>
            </div>
        </nav>
    </div>
</body>

</html>
